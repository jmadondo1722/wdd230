"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3604],{1090:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(2222),l=n(7997),r=n(7603),o=n.n(r),a=n(1720);function c(e,t){if("Total"===t[e.field])return t[e.field];var n=e.format?e.format(t[e.field],e.label,t):t[e.field];return function(e,t){if(!e)return t;if(!t)return null;var n=Object.keys(e).find(function(e){return e===t});if(!n)throw Error("No color defined for ".concat(t));var i,r=e[n];return(0,l.tZ)("span",{className:"tag is-light",style:{backgroundColor:r,color:"white",padding:"5px 9px",fontWeight:700},children:n||t})}(e.customColors,n)}var d=n(9583),s=function(e){var t=e.columns,n=e.multiSort;return t.map(function(e,i){return(0,l.tZ)(u,{col:e,i:i,numCols:t.length,multiSort:n},i)})},u=function(e){var t,n=e.col,i=e.numCols,r=e.i,o=e.multiSort;return(0,l.tZ)("th",{width:null!==(t=null==n?void 0:n.columnWidth)&&void 0!==t?t:"auto",className:"datatable-th ".concat(0===r?"pin":""),children:(0,l.tZ)("span",{children:(0,l.BX)("a",{style:r===i-1?{paddingRight:12}:{},"data-field":n.field,"data-tooltip":n.tooltip,className:"has-tooltip-bottom",children:[n.header," ",f(n.field,o)," "]})})})},f=function(e,t){var n=t.find(function(t){return t.field===e});return n?"asc"===n.dir?(0,l.tZ)(d.IkZ,{}):(0,l.tZ)(d.qL$,{}):null},p=n(7568),h=n(9815),m=n(655),_=n(5017),w=function(e){var t,n,i,r,o=e.data,c=e.dataTitle,s=void 0===c?"Table Data":c,u=e.isRankingData,f=e.columns,w=(0,a.useState)(!1),v=w[0],b=w[1],g=(0,a.useState)(!1),Z=g[0],x=g[1],y=(0,a.useState)(!1),k=y[0],N=y[1],C=(0,a.useState)(null),S=C[0],B=C[1],A=(0,a.useRef)(null),X=(0,_.wW)(),T=void 0!==u&&u?(t=o,n=f,i=n.map(function(e){return e.field}),(0,h.Z)(t).map(function(e){var t={};for(var n in i){var l=i[n];t["".concat(l)]=e[l]}return t})):o,j=(r=(0,p.Z)(function(e){var t,n;return(0,m.__generator)(this,function(n){switch(n.label){case 0:e.preventDefault(),N(!0),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch("/api/datatable-mailer",{method:"POST",headers:{"Content-Type":"application/json"},mode:"same-origin",body:JSON.stringify({data:T,dataTitle:s,email:S})})];case 2:if(t=n.sent(),N(!1),t.ok)b(!1),x(!1),B(null),A.current.reset();else throw Error("Error: Bad response.");return[3,4];case 3:throw Error(n.sent());case 4:return[2]}})}),function(e){return r.apply(this,arguments)});return(0,l.BX)("div",{className:"datatable-menu",children:[(0,l.BX)("a",{onClick:function(){X("csv-download"),b(!0)},role:"button",children:[(0,l.tZ)(d.aBF,{size:10})," CSV"]}),(0,l.BX)("a",{onClick:function(){X("json-download"),b(!0)},role:"button",children:[(0,l.tZ)(d.aBF,{size:10})," JSON"]}),(0,l.tZ)("div",{className:"dl-inner-wrap ".concat(v?"show":""),children:(0,l.BX)("div",{className:"data-dl-box ".concat(v?"show":""),children:[(0,l.tZ)("h3",{children:"Download Table Data"}),(0,l.BX)("form",{onSubmit:j,ref:A,method:"post",children:[(0,l.tZ)("div",{className:"checkbox-wrap",children:(0,l.BX)("label",{className:"checkbox",children:[(0,l.tZ)("input",{type:"checkbox",onChange:function(){return x(function(e){return!e})},checked:!!Z&&"checked"})," ","I agree to receive email from World Population Review"]})}),(0,l.tZ)("p",{children:"Enter your email below, and you'll receive this table's data in your inbox momentarily."}),(0,l.BX)("div",{className:"field is-grouped",children:[(0,l.BX)("label",{htmlFor:"dl_email",className:"label m-0 mr-1 p-0 is-align-self-center",children:["Email:"," "]}),(0,l.tZ)("div",{className:"control is-expanded",children:(0,l.tZ)("input",{className:"input",type:"email",name:"dl_email",defaultValue:S,onChange:function(e){return B(e.target.value)},disabled:!Z,required:!0})}),(0,l.tZ)("div",{className:"control",children:(0,l.tZ)("button",{type:"submit",className:"button is-info",disabled:(!!k||!Z)&&"disabled",children:"Send"})})]})]}),(0,l.tZ)("button",{className:"delete close-btn",type:"button",onClick:function(){return b(!1)},style:{position:"absolute",right:"7px",top:"7px"},children:"X"})]})})]})},v=[],b=function(e){var t=e.lastRow,n=e.showDownload,r=e.sort,d=e.sortAsc,u=e.multiSorting,f=void 0===u?v:u,p=e.columns,h=e.showAll,m=e.dataTitle,_=e.isRankingData,b=e.data,g=(0,a.useState)(!1),Z=g[0],x=g[1],y=(0,a.useState)(f),k=y[0],N=y[1];(0,a.useEffect)(function(){(x(!0),f.length>0)?N(f):((null==r?void 0:r.field)&&N([{field:r.field,dir:r.asc?"asc":"desc"}]),"string"==typeof r&&N([{field:r,dir:d?"asc":"desc"}]))},[f,r,d]);var C=function(e){var t=e.target.dataset.field,n=k.find(function(e){return e.field===t}),i=f.length>0;if(n){var l="desc"===n.dir?"asc":null;"asc"===l&&((n.dir=l,i)?N(k.filter(function(e){return e.field!==t}).concat(n)):N([n])),!l&&N(k.filter(function(e){return e.field!==t}))}else i?N(k.concat({field:t,dir:"desc"})):N([{field:t,dir:"desc"}])};if(0===(b=b.slice()).length)return(0,l.tZ)("p",{children:"No data."});k.length>0&&k.forEach(function(e){var t=b.find(function(t){return null!==t[e.field]&&""!==t[e.field]});if(!t)return!1;var n=(0,i.Z)(t[e.field]),l=e.dir;if("string"===n)b=b.sort(function(t,n){return null==t[e.field]||null==n[e.field]||("asc"===l?t[e.field].localeCompare(n[e.field]):n[e.field].localeCompare(t[e.field]))});else if("object"===n){var r=Object.keys(t[e.field])[0];b=b.sort(function(t,n){return null==t[e.field][r]||null==n[e.field][r]||("asc"===l?t[e.field][r].localeCompare(n[e.field][r]):n[e.field][r].localeCompare(t[e.field][r]))})}else b=b.sort(function(t,n){return"asc"===l?t[e.field]-n[e.field]:n[e.field]-t[e.field]})});var S=(t?b.concat(t):b).map(function(e,n){var i=p.map(function(i,r){return"Rank"===i.header&&0===r?(0,l.tZ)("th",{children:e[i.field]},e[i.field]):"Rank"===i.header?(0,l.tZ)("td",{children:e[i.field]},e[i.field]):t&&n===b.length&&!e[i.field]?(0,l.tZ)("td",{className:"font-weight-bold",children:0===r?"Total":" "},"".concat(n,"-").concat(r)):0===r?(0,l.tZ)("th",{children:c(i,e)},"".concat(n,"-").concat(r)):(0,l.tZ)("td",{children:c(i,e)},"".concat(n,"-").concat(r))});return(0,l.tZ)("tr",{style:e.rowStyle,className:e.isTotal?"totalrow":null,children:i},n)});return(0,l.BX)("div",{children:[(void 0===n||n)&&(0,l.tZ)(w,{data:b,dataTitle:m,isRankingData:_,columns:p}),(0,l.tZ)("div",{className:"datatable-container ".concat(void 0!==h&&h?"show-all":""),role:"region","aria-label":"data table",tabindex:"0",children:Z&&(0,l.BX)("table",{className:"jsx-a3119e4553b2cac7 table is-striped is-hoverable is-fullwidth tp-table-body is-narrow",children:[(0,l.tZ)("thead",{style:{fontWeight:"bold"},className:"jsx-a3119e4553b2cac7",children:(0,l.tZ)("tr",{onClick:function(e){C(e)},className:"jsx-a3119e4553b2cac7",children:(0,l.tZ)(s,{columns:p,multiSort:k})})}),(0,l.tZ)("tbody",{className:"jsx-a3119e4553b2cac7",children:S}),(0,l.tZ)(o(),{id:"a3119e4553b2cac7",children:".tp-table-body tr.hasFixed th.fixed,.tp-table-body tr.hasFixed td.fixed{width:135px}"})]})})]})},g=a.default.memo(b)},6207:function(e,t,n){n.d(t,{PU:function(){return c},XH:function(){return d},Cb:function(){return f},kN:function(){return w},$m:function(){return v},X6:function(){return m},i1:function(){return _},CJ:function(){return u},xk:function(){return s},qC:function(){return h},PA:function(){return p},ID:function(){return a}});var i=n(7997),l=n(4298),r=n.n(l),o=function(e){var t=e.code,n=e.placement,l=e.style,o=e.slot;return(0,i.tZ)("div",{align:"center","data-freestar-id":t,style:l,id:o,children:(0,i.BX)("div",{children:[(0,i.tZ)(r(),{id:"freestarLoad",src:"https://a.pub.network/worldpopulationreview-com/pubfig.min.js"}),(0,i.tZ)(r(),{id:"freestar-script-block",children:'\n          var freestar = freestar || {};\n          freestar.queue = freestar.queue || [];\n          freestar.config = freestar.config || {};\n          freestar.config.enabled_slots = [];\n          freestar.queue.push(function() { googletag.pubads().set("page_url", "https://worldpopulationreview.com"); });\n          freestar.initCallback = function () { \n            (freestar.config.enabled_slots.length === 0) ? freestar.initCallbackCalled = false : freestar.newAdSlots(freestar.config.enabled_slots) \n          }\n        '}),(0,i.tZ)(r(),{id:"freestar-".concat(n,"-").concat(o),children:"freestar.config.enabled_slots.push({ placementName: '".concat(n,"', slotId: '").concat(o,"'})")})]})})},a=function(){return(0,i.tZ)(o,{style:{textAlign:"center",marginTop:10,marginBottom:10},placement:"worldpopulationreview_leaderboard_atf",slot:"worldpopulationreview_leaderboard_atf",code:"__320x100 __336x280"})},c=function(){return(0,i.tZ)(o,{style:{textAlign:"center"},placement:"worldpopulationreview_incontent",slot:"worldpopulationreview_incontent",code:"__336x280 __336x280"})},d=function(){return(0,i.tZ)(o,{style:{textAlign:"center",marginBottom:10},placement:"worldpopulationreview_incontent_top_state-rankings",slot:"worldpopulationreview_incontent_top_state-rankings",code:"__300x250 __970x250"})},s=function(){return(0,i.tZ)(o,{style:{position:"sticky",top:5,textAlign:"center"},placement:"worldpopulationreview_right_rail",slot:"worldpopulationreview_right_rail",code:"__300x600"})},u=function(){return(0,i.tZ)(o,{style:{textAlign:"center"},placement:"worldpopulationreview_right_rail",slot:"worldpopulationreview_right_rail2",code:"__300x600"})},f=function(){return(0,i.tZ)(o,{style:{textAlign:"center",position:"sticky",top:5},placement:"worldpopulationreview_right_rail",slot:"worldpopulationreview_in_table",code:"__300x600"})},p=function(){return(0,i.tZ)(o,{style:{textAlign:"center",position:"sticky",top:5},placement:"worldpopulationreview_right_rail",slot:"worldpopulationreview_table_panel",code:"__300x600"})},h=function(){return(0,i.tZ)(o,{style:{textAlign:"center",position:"sticky",top:5},placement:"worldpopulationreview_right_rail",slot:"worldpopulationreview_scatter_chart",code:"__300x600"})},m=function(){return(0,i.tZ)(o,{style:{textAlign:"center"},placement:"worldpopulationreview_left_rail",slot:"worldpopulationreview_left_rail",code:"__300x250"})},_=function(){return(0,i.tZ)(o,{style:{position:"sticky",top:5,textAlign:"center"},placement:"worldpopulationreview_left_rail",slot:"worldpopulationreview_left_rail_sticky",code:"__300x250"})},w=function(){return(0,i.tZ)(o,{style:{textAlign:"center"},placement:"worldpopulationreview_inline_native",slot:"worldpopulationreview_inline_native",code:"__300x250"})},v=function(){return(0,i.tZ)(o,{style:{textAlign:"center"},placement:"worldpopulationreview_inline_native_bottom",slot:"worldpopulationreview_inline_native_bottom",code:"__300x250"})}}}]);